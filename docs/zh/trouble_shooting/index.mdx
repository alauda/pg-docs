---
weight: 70
i18n:
  title:
    en: Trouble Shooting
---

# 问题处理

## 常见问题分类

1. [集群创建失败](#集群创建失败)
2. [主从切换异常](#主从切换异常)
3. [备份恢复失败](#备份恢复失败)
4. [监控指标缺失](#监控指标缺失)
5. [连接池问题](#连接池问题)
6. [资源不足问题](#资源不足问题)

## 排查工具

### 查看集群状态
```bash
kubectl get postgresql <集群名称> -o yaml
```

### 查看 Pod 日志
```bash
kubectl logs <pod名称> -c postgres
```

### 查看事件
```bash
kubectl get events --sort-by=.metadata.creationTimestamp
```

### 检查存储
```bash
kubectl get pvc
kubectl describe pvc <pvc名称>
```

## 诊断流程

1. 确认 Kubernetes 集群状态
2. 检查 PostgreSQL Operator 日志
3. 查看目标集群的 CRD 状态
4. 检查相关 Pod 的状态和日志
5. 验证存储配置
6. 检查网络连接
7. 查看监控指标

## 获取帮助

如果无法解决问题，请收集以下信息并联系支持团队：

1. 集群名称和命名空间
2. 问题发生时间
3. 相关日志文件
4. 集群配置信息
5. 操作步骤记录

<Overview />
