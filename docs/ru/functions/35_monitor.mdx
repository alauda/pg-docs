---
weight: 35
sourceSHA: c7916119016287c090c11444c42c15c64433a36edc78a27ace55636526a701ee
---

# Мониторинг

## Обзор

Мониторинговые данные, встроенные в панель, могут использоваться для мониторинга и оповещения PostgreSQL с точки зрения ресурсов, производительности и емкости, поддерживают настройку политик уведомлений.

Интуитивно представленные мониторинговые данные могут обеспечить поддержку принятия решений для оперативных проверок или настройки производительности.

## Мониторинговые Метрики

Платформа по умолчанию собирает часто используемые мониторинговые метрики, связанные с ресурсами, производительностью и емкостью PostgreSQL. На вкладке **Мониторинг** экземпляра можно просматривать данные мониторинга в реальном времени для этих метрик.

| Метрика               | Описание                                                                   |
| --------------------- | --------------------------------------------------------------------------- |
| Использование CPU     | Процент времени процессора, используемого процессами PostgreSQL           |
| Использование памяти  | Объем резидентной памяти и виртуальной памяти, используемой процессами PostgreSQL |
| Дескрипторы файлов    | Количество дескрипторов файлов, открытых PostgreSQL                       |
| Количество соединений  | Количество активных соединений и максимальный лимит соединений            |
| Статистика транзакций | Количество зафиксированных и откатанных транзакций для каждой базы данных  |
| Статистика запросов    | Количество операций SELECT, INSERT, UPDATE и DELETE                       |
| Уровень попадания кэша | Процент уровня попадания в кэш для каждой базы данных                     |
| Статистика блокировок  | Количество и время ожидания блокировок на уровне таблицы                  |
| Временные файлы       | Размер временных файлов, созданных каждой базой данных                    |
| Контрольные точки      | Частота контрольных точек и объем записанных данных                       |
| Конфликты/Смертельные блокировки | Количество конфликтов и смертоносных блокировок, возникающих в каждой базе данных |
| Записи в фоновом режиме  | Статистика буфера фонового писателя                                     |

## Основные Описания Мониторинговых Пунктов

### Использование ресурсов

- **Использование CPU**: Отражает нагрузку на процессор процессов PostgreSQL
- **Использование памяти**: Включает резидентную и виртуальную память, мониторинг на утечки памяти и чрезмерное использование
- **Дескрипторы файлов**: Обеспечивает, чтобы системные лимиты не были достигнуты

### Показатели производительности

- **Статистика транзакций**: Отслеживает скорость коммита/отката для каждой базы данных, оценивая успех транзакций
- **Статистика запросов**: Анализирует соотношение различных типов запросов для выявления узких мест производительности
- **Уровень попадания кэша**: Оценка эффективности общего буфера, который должен поддерживать уровень попадания выше 95%
- **Статистика блокировок**: Обнаруживает конкуренцию за блокировки на уровне таблицы

### Планирование емкости

- **Количество соединений**: Мониторинг использования пула соединений и своевременная корректировка max\_connections
- **Временные файлы**: Выявление больших запросов, требующих оптимизации
- **Контрольные точки**: Оценка влияния частоты контрольных точек на производительность

:::note

1. Некоторые метрики требуют включения сборщика статистики
2. Рекомендуется установить пороговые значения оповещения для критических метрик
:::
