---
weight: 16
i18n:
  title:
    en: Upgrade
sourceSHA: b3b3e8faee5f34a1ffe101c47c85f0d80f966d570e7b2f93807392673d2b1db7
title: Upgrade
---

# Upgrade

:::note

This document provides the upgrade path principles and supported version compatibility for Alauda Support for PostgreSQL.

:::

:::warning

PostgreSQL 11 is deprecated and will be removed in a future release. Please upgrade to PostgreSQL higher version as soon as possible.

:::

## Compatibility Matrix

The table below lists supported versions of the Alauda Support for PostgreSQL and its key components:

| Alauda PostgreSQL package version |  PostgreSQL server version  | Kubernetes version  |
|:-------------------------:|:-----------------------------------:|:-------------------:|
| v4.1.x                    | 14, 16                              | 1.25+               |
| v4.0.x                    | 11, 12, 14                          | 1.25+               |


Please refer to **[Release Notes](./release_notes.mdx)** for version-specific changes, new features and deprecations information.

## Prerequisites

Before initiating an upgrade, please ensure the following:

1. **Version Compatibility**: Your current version falls within a supported upgrade path.
2. **Component Health**: PostgreSQL instances are in a `Ready` state.
3. **Resource Availability**: The cluster has sufficient resources to support the upgrade process.

## Upgrade Path Guidelines

### Consecutive Minor Upgrade
- **Description**: Upgrade version-by-version through consecutive minor versions.
- **Example**: `4.1.x → 4.2.x → 4.3.x`

### Patch-Level Upgrade
- **Description**: Any upgrade between patch versions of the same minor version are supported.
- **Example**: `4.1.3 → 4.1.7`

### PostgreSQL Version Alignment
- **Description**: Ensure PostgreSQL server version upgrades follow the operator's compatibility matrix.
- **Example**: Manually upgrade PostgreSQL server version to v14 (v16 work too) before upgrade Alauda Support for PostgreSQL to v4.1.0.

:::note

If your current PostgreSQL server version is being removed in the next Alauda PostgreSQL package version, you must manually upgrade your PostgreSQL server version to a supported one before upgrading to the next Alauda PostgreSQL package version. This ensures compatibility and prevents upgrade failures.

:::

## Upgrade Strategy

Alauda Support for PostgreSQL will execute upgrades based on the configured upgrade strategy:
- **Automatic** : Auto-upgrades are triggered immediately upon detecting new component versions.
- **Manual** : Requires manual approval before initiating the upgrade process.

